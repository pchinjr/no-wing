{
  "version": "1.0",
  "description": "Q's progressive capability system - defining what Q can do at each level",
  "levels": {
    "1": {
      "name": "Observer",
      "description": "Q can read and observe, providing insights and suggestions",
      "permissions": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream", 
        "logs:PutLogEvents",
        "cloudformation:DescribeStacks",
        "cloudformation:ListStacks",
        "lambda:GetFunction",
        "lambda:ListFunctions",
        "s3:GetObject",
        "s3:ListBucket"
      ],
      "capabilities": [
        "Read deployment logs",
        "Analyze stack configurations",
        "Provide code suggestions",
        "Monitor function performance",
        "Generate reports"
      ],
      "unlockConditions": [
        "Complete initial onboarding",
        "Successfully authenticate with AWS"
      ]
    },
    "2": {
      "name": "Assistant",
      "description": "Q can make safe modifications and deployments",
      "permissions": [
        "lambda:UpdateFunctionCode",
        "s3:PutObject",
        "dynamodb:GetItem",
        "dynamodb:Query",
        "dynamodb:PutItem",
        "cloudformation:UpdateStack"
      ],
      "capabilities": [
        "Deploy code changes",
        "Update Lambda functions",
        "Modify configuration files",
        "Create database entries",
        "Update CloudFormation stacks"
      ],
      "unlockConditions": [
        "Complete 5 successful observations",
        "Developer approval for elevated access",
        "Pass security validation checks"
      ]
    },
    "3": {
      "name": "Partner",
      "description": "Q can create new resources and manage infrastructure",
      "permissions": [
        "lambda:CreateFunction",
        "dynamodb:CreateTable",
        "s3:CreateBucket",
        "iam:CreateRole",
        "cloudformation:CreateStack"
      ],
      "capabilities": [
        "Create new AWS resources",
        "Design and implement features",
        "Manage IAM roles and policies",
        "Architect solutions",
        "Lead development initiatives"
      ],
      "unlockConditions": [
        "Complete 20 successful deployments",
        "Demonstrate architectural understanding",
        "Pass advanced security review",
        "Developer partnership agreement"
      ]
    }
  },
  "progressTracking": {
    "metrics": [
      "successful_operations",
      "error_rate",
      "security_violations",
      "developer_feedback_score",
      "autonomous_contributions"
    ],
    "thresholds": {
      "level_2_unlock": {
        "successful_operations": 5,
        "error_rate": "<5%",
        "security_violations": 0,
        "developer_feedback_score": ">4.0"
      },
      "level_3_unlock": {
        "successful_operations": 20,
        "error_rate": "<2%",
        "security_violations": 0,
        "developer_feedback_score": ">4.5",
        "autonomous_contributions": 3
      }
    }
  },
  "safeguards": {
    "always_required": [
      "All actions logged and auditable",
      "Cannot modify other Q instances",
      "Cannot escalate own permissions",
      "Must respect resource quotas",
      "Cannot access production without explicit approval"
    ],
    "rollback_triggers": [
      "Security violation detected",
      "Error rate exceeds threshold",
      "Developer revokes permissions",
      "Anomalous behavior detected"
    ]
  }
}
