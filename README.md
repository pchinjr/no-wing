Here is the updated `README.md`, rewritten to capture what we've learned,
refocus the vision around a rigorous agent collaboration lifecycle, and lay out
testable goals to prove the No-Wing hypothesis with clarity and engineering
discipline.

---

```markdown
# ğŸ¦ˆ No-Wing

**No-Wing** is a secure, auditable framework for managing artificial agents as
autonomous digital employees.

It implements a rigorous, repeatable lifecycle where an agent is given a task
(`intent.yml`), attempts to fulfill it, is evaluated against constraints
(`plan.json`), andâ€”only if alignedâ€”is allowed to commit or deploy work.

No-Wing is:

- Agent-agnostic (works with local inference or remote APIs)
- Lifecycle-aware (tracks task attempts and alignment over time)
- Intentionally minimal (you bring the agent, No-Wing runs the process)

---

## ğŸ§  Philosophy

> Artificial agents donâ€™t complete work â€” they attempt it.

No-Wing doesn't just route intent to an agent. It treats the agent like a junior
developer:

- They work within scoped access and identity.
- They submit code for validation.
- Their work is only accepted if it aligns with defined human intent.

We call this pattern: **Intent â Attempt â Alignment â Approval**.

---

## ğŸ“ Engineering Hypothesis

We believe a general-purpose agent interface can be built with:

1. A standard intent contract (`intent.yml`)
2. A universal routing and execution interface (MCP or CLI)
3. A formal alignment validator (`plan.ts`)
4. A repeatable agent feedback loop for retries and improvements

This is a testable, falsifiable hypothesis. No-Wing will prove it.

---

## ğŸ§± Project Structure
```

no-wing/ â”œâ”€â”€ server.ts # HTTP MCP server to receive and route intent â”œâ”€â”€ plan.ts

# Alignment validator (intent vs output) â”œâ”€â”€ agents/ â”‚ â””â”€â”€ local-agent.ts # LM

Studio integration (supports LOCAL_AGENT_HOST) | â””â”€â”€ gpt-agent.ts # OpenAI API
integration â”œâ”€â”€ scripts/ â”‚ â””â”€â”€ discover-host.ts # Auto-discovers host IP from
WSL2 â”œâ”€â”€ intent.yml # Current agent task (editable by user) â”œâ”€â”€ .env #
LOCAL_AGENT_HOST=ip (autogenerated) â””â”€â”€ workspace/ â””â”€â”€ tasks/ â””â”€â”€ abc123/ â”œâ”€â”€
v1/ â”‚ â”œâ”€â”€ output.ts â”‚ â””â”€â”€ plan.json â”œâ”€â”€ v2/ â”‚ â”œâ”€â”€ output.ts â”‚ â””â”€â”€ plan.json â””â”€â”€
final/ â””â”€â”€ output.ts

````
---

## ğŸš€ Getting Started

### 1. Start LM Studio
- Enable **â€œServe on local networkâ€**
- Load a model (e.g. `deepseek-r1-distill-qwen-7b`)
- Ensure it is accessible on `http://localhost:1234`

---

### 2. Discover Host IP (if running in WSL2)

```bash
deno run --allow-run=sh --allow-read --allow-write scripts/discover-host.ts
````

Sets `LOCAL_AGENT_HOST=...` in `.env`.

---

### 3. Define Your Intent

```yaml
# intent.yml
goal: "Create a TypeScript function named add that returns the sum of two numbers"
constraints:
  - must use TypeScript
  - must include inline documentation
  - must define a function named add
  - must not use external dependencies
acceptance_criteria:
  - output written to workspace/output.ts
```

---

### 4. Start No-Wing Server

```bash
deno run --allow-net --allow-read --allow-write --allow-env server.ts
```

Then:

```bash
curl -X POST http://localhost:8000 \
  -H "Content-Type: application/json" \
  -d '{"messages":[{"role":"user", "content": "Build the task in intent.yml"}]}'
```

Watch for `workspace/tasks/<task_id>/v1/` to populate.

---

## ğŸ§ª What Happens Behind the Scenes

1. The server receives your intent and assigns a task ID
2. The agent attempts the task and writes output
3. `plan.ts` validates the output against `intent.yml`
4. If alignment fails:

   - `plan.json` includes detailed failures and recommendations
   - The agent can retry using that feedback (coming soon)
5. If alignment passes:

   - Output is moved to `final/`
   - You may run `no-wing commit` or `no-wing deploy`

---

## âœ… Current Features

- MCP-compatible server
- Agent output routing
- Auto-validation of agent output vs intent
- Workspace per task, with versioned attempts
- `.env` and WSL2 discovery support
- Graceful shutdown

---

## ğŸ”¬ Roadmap: Proof of Rigor

We will treat each milestone as a testable engineering claim.

| Goal                          | Description                               | Status |
| ----------------------------- | ----------------------------------------- | ------ |
| **Intent-as-contract**        | Use `intent.yml` to drive agent action    | âœ…     |
| **Agent output capture**      | Save all agent work versioned by task     | âœ…     |
| **Plan validator**            | Enforce alignment before acceptance       | âœ…     |
| **Retry loop**                | Retry agent with feedback until aligned   | â³     |
| **Self-review feedback**      | Let agents correct their own mistakes     | â³     |
| **Commit signing**            | Agent commits code under its own identity | ğŸ”œ     |
| **Deploy w/ least privilege** | Use IAM roles to isolate deployment       | ğŸ”œ     |
| **Pluggable agents**          | Support Q CLI, Claude, Cursor, etc.       | ğŸ”œ     |
| **MVP test harness**          | Use real-world tasks to validate loop     | ğŸ”œ     |

---

## ğŸ§­ Vision

No-Wing turns artificial labor into a **structured, trustworthy, and usable part
of the development process**â€”not a sidekick, but a teammate.
