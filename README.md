Here is the updated `README.md`, rewritten to capture what we've learned,
refocus the vision around a rigorous agent collaboration lifecycle, and lay out
testable goals to prove the No-Wing hypothesis with clarity and engineering
discipline.

---

```markdown
# 🦈 No-Wing

**No-Wing** is a secure, auditable framework for managing artificial agents as
autonomous digital employees.

It implements a rigorous, repeatable lifecycle where an agent is given a task
(`intent.yml`), attempts to fulfill it, is evaluated against constraints
(`plan.json`), and—only if aligned—is allowed to commit or deploy work.

No-Wing is:

- Agent-agnostic (works with local inference or remote APIs)
- Lifecycle-aware (tracks task attempts and alignment over time)
- Intentionally minimal (you bring the agent, No-Wing runs the process)

---

## 🧠 Philosophy

> Artificial agents don’t complete work — they attempt it.

No-Wing doesn't just route intent to an agent. It treats the agent like a junior
developer:

- They work within scoped access and identity.
- They submit code for validation.
- Their work is only accepted if it aligns with defined human intent.

We call this pattern: **Intent ➝ Attempt ➝ Alignment ➝ Approval**.

---

## 📐 Engineering Hypothesis

We believe a general-purpose agent interface can be built with:

1. A standard intent contract (`intent.yml`)
2. A universal routing and execution interface (MCP or CLI)
3. A formal alignment validator (`plan.ts`)
4. A repeatable agent feedback loop for retries and improvements

This is a testable, falsifiable hypothesis. No-Wing will prove it.

---

## 🧱 Project Structure
```

no-wing/ ├── server.ts # HTTP MCP server to receive and route intent ├── plan.ts

# Alignment validator (intent vs output) ├── agents/ │ └── local-agent.ts # LM

Studio integration (supports LOCAL_AGENT_HOST) | └── gpt-agent.ts # OpenAI API
integration ├── scripts/ │ └── discover-host.ts # Auto-discovers host IP from
WSL2 ├── intent.yml # Current agent task (editable by user) ├── .env #
LOCAL_AGENT_HOST=ip (autogenerated) └── workspace/ └── tasks/ └── abc123/ ├──
v1/ │ ├── output.ts │ └── plan.json ├── v2/ │ ├── output.ts │ └── plan.json └──
final/ └── output.ts

````
---

## 🚀 Getting Started

### 1. Start LM Studio
- Enable **“Serve on local network”**
- Load a model (e.g. `deepseek-r1-distill-qwen-7b`)
- Ensure it is accessible on `http://localhost:1234`

---

### 2. Discover Host IP (if running in WSL2)

```bash
deno run --allow-run=sh --allow-read --allow-write scripts/discover-host.ts
````

Sets `LOCAL_AGENT_HOST=...` in `.env`.

---

### 3. Define Your Intent

```yaml
# intent.yml
goal: "Create a TypeScript function named add that returns the sum of two numbers"
constraints:
  - must use TypeScript
  - must include inline documentation
  - must define a function named add
  - must not use external dependencies
acceptance_criteria:
  - output written to workspace/output.ts
```

---

### 4. Start No-Wing Server

```bash
deno run --allow-net --allow-read --allow-write --allow-env server.ts
```

Then:

```bash
curl -X POST http://localhost:8000 \
  -H "Content-Type: application/json" \
  -d '{"messages":[{"role":"user", "content": "Build the task in intent.yml"}]}'
```

Watch for `workspace/tasks/<task_id>/v1/` to populate.

---

## 🧪 What Happens Behind the Scenes

1. The server receives your intent and assigns a task ID
2. The agent attempts the task and writes output
3. `plan.ts` validates the output against `intent.yml`
4. If alignment fails:

   - `plan.json` includes detailed failures and recommendations
   - The agent can retry using that feedback (coming soon)
5. If alignment passes:

   - Output is moved to `final/`
   - You may run `no-wing commit` or `no-wing deploy`

---

## ✅ Current Features

- MCP-compatible server
- Agent output routing
- Auto-validation of agent output vs intent
- Workspace per task, with versioned attempts
- `.env` and WSL2 discovery support
- Graceful shutdown

---

## 🔬 Roadmap: Proof of Rigor

We will treat each milestone as a testable engineering claim.

| Goal                          | Description                               | Status |
| ----------------------------- | ----------------------------------------- | ------ |
| **Intent-as-contract**        | Use `intent.yml` to drive agent action    | ✅     |
| **Agent output capture**      | Save all agent work versioned by task     | ✅     |
| **Plan validator**            | Enforce alignment before acceptance       | ✅     |
| **Retry loop**                | Retry agent with feedback until aligned   | ⏳     |
| **Self-review feedback**      | Let agents correct their own mistakes     | ⏳     |
| **Commit signing**            | Agent commits code under its own identity | 🔜     |
| **Deploy w/ least privilege** | Use IAM roles to isolate deployment       | 🔜     |
| **Pluggable agents**          | Support Q CLI, Claude, Cursor, etc.       | 🔜     |
| **MVP test harness**          | Use real-world tasks to validate loop     | 🔜     |

---

## 🧭 Vision

No-Wing turns artificial labor into a **structured, trustworthy, and usable part
of the development process**—not a sidekick, but a teammate.
